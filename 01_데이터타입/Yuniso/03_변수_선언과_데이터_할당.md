## 변수 선언과 데이터 할당

### 변수 선언
   
   예제1) var a;     // "변할 수 있는 데이터를 만든다. 이 데이터의 식별자는 a로 한다."라는 뜻
    
    - 변할 수 있는 데이터이니 선언을해서 undefined이더라도 나중에 다른 값으로 바꾸면 됨
      -> 변수란 결국 변경 가능한 데이터가 담길 수 있는 공간 또는 그릇이며, 
         이 곳에 숫자를 담았다가 문자열을 담아도 되는 등 다양한 명령을 내릴 수 있다.

                    주소   | ... | 1002 |    1003   | 1004 | 1005 | ...
                  ------------------------------------------------------
                    데이터 |     |      | 이름: a   |      |      |
                           |     |      | 값:       |      |      |

      1. 예제1의 명령을 받은 컴퓨터는 메모리에서 비어있는 공간을 하나 확보한다.     // 임의로 1003번에 정함
      2. 이 공간의 이름(식별자)을 a라고 지정한다.
        -> 여기까지가 변수 선언 과정이다.
      
      이 후, 사용자가 a에 접근하고자 하면 컴퓨터는 메모리에서 a라는 이름을 가진 주소를 검색해 해당 공간에 
      담긴 데이터를 반환할 것이다.


### 데이터 할당

  예제2) var a;           // 변수 a 선언
         a = 'abc';       // 변수 a에 데이터 할당

         var a = 'abc';   // 변수 선언과 할당을 한 문장으로 표현
  
    - 선언과 할당을 두 문장으로 나누어 명령을 하든, 한 문장으로 하든 자바스크립트 엔진은 결국 같은 동작을 수행한다.
    - 선언은 `메모리에 비어있는 공간을 확보하고 그 공간의 이름을 설정`
    - 할당은 `a라는 이름을 가진 주소를 검색해서 그곳에 문자열 abc를 할당`
      -> 그러나 실제로는 해당 위치에 문자열 'abc'를 직접 저장하지는 않음
        1. 데이터를 저장하기 위한 별도의 메모리 공간을 다시 확보해 문자열 'abc'를 저장
        2. 그 주소를 변수 영역에 저장

             ┌       주소   | ... | 1002 |    1003   | 1004  | 1005 | ...
            변수   ------------------------------------------------------
            영역     데이터 |     |      | 이름: a   |       |      |
             └              |     |      | 값:       |       |      |
                   ------------------------------------------------------        
             ┌       주소   | ... | 5002 |    5003   | 5004  | 5005 | ...
          데이터   ------------------------------------------------------
            영역     데이터 |     |      |           | 'abc' |      |
             └              |     |      |           |       |      |     

             1. 변수 영역에서 빈 공간(@1003)을 확보
             2. 확보한 공간의 식별자를 a로 지정
             3. 데이터 영역의 빈 공간(@5004)에 문자열 'abc'를 저장
             4. 변수 영역에서 a라는 식별자를 검색(@1003)
             5. 앞서 저장한 문자열의 주소(@5004)를 @1003의 공간에 대입   

    - 왜 변수 영역에 값을 직접 대입하지 않고 번거롭게 한단계를 더 거치냐면
      1. 데이터 변환을 자유롭게 할 수 있음
      2. 메모리를 더욱 효율적으로 관리 할 수 있음
   
      why? JS는 숫자형 데이터에 대해선 64비트의 공간을 확보하지만, 문자열은 특별히 정해진 규격이 없다.
           한 글자마다 영어는 1바이트, 한글은 2바이트 등으로 각각 필요한 메모리 용량이 가변적이고 전체 글자 수 또한 가변적이기 때문이다.

           만약 미리 확보한 공간 내에서만 데이터 변환을 할 수 있다면!
           1. 변환한 데이터를 다시 저장하려고 '이전에 확보된 공간을 변환된 데이터 크기에 맞게 늘리는 작업'이 필요
           2. 해당 공간이 메모리 상의 가장 마지막인 경우는 어렵지 않으나 중간에 있는 데이터를 늘려야 하는 상황이 발생
           3. 중간에 있는 공간을 늘리니 뒤에 저장된 데이터까지 전부 뒤로 밀림
           4. 이동시킨 주소를 각 식별자에게 다시 재 연결
            -> 이러한 과정 때문에 컴퓨터가 처리해야 할 연산이 많아진다.
               그러므로 효율적인 문자열 데이터의 변환을 처리하려면 
               변수와 데이터를 별도의 공간에 나누어 저장하는것이 최적이다.



                ┌       주소   | ... | 1002 |    1003   | 1004  |   1005   | ...
               변수   --------------------------------------------------------
               영역     데이터 |     |      | 이름: a   |       |          |
                └              |     |      | 값: @5005 |       |          |
                      --------------------------------------------------------        
                ┌       주소   | ... | 5002 |    5003   | 5004  |   5005   | ...
             데이터   --------------------------------------------------------
               영역     데이터 |     |      |           | 'abc' | 'abcdef' |
                └              |     |      |           |       |          |    
     
         - 만약 문자열 'abc'의 마지막에 'def'를 추가하려고 한다? 
          1. 앞서 'abc'가 저장된 공간에 'abcdef'를 할당하는것이 아닌 'abcdef'라는 문자열을 새로 생성, 
             별도의 공간에 저장
          2. 그 주소를 변수의 공간에 연결
            -> 반대로 'abc'의 마지막 'c'를 제거해도 똑같이 새로 만든다.
      
        - 다른 예로 500개의 변수를 생성하여 모든 변수에 숫자 5를 할당하는 상황이 발생
          -> 각 변수를 별개로 인식하려고 500개의 변수 공간을 확보하면 총 4000(500 * 8)바이트를 써야 하므로 불가피함
          -> 해결: 대신 5를 별도의 공간에 한 번만 저장하고 해당 주소만 입력한다면 1008(500 * 2 + 8)바이트만 이용하면 됨
        이처럼 변수 영역과 데이터 영역을 분리하면 중복된 데이터에 대한 처리 효율이 높아진다.




